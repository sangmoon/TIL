<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Sangmoon's TIL</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content>
<meta name=generator content="Hugo 0.88.1">
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel=stylesheet href=/TIL/ananke/css/main.min.css>
<link href=/TIL/posts/index.xml rel=alternate type=application/rss+xml title="Sangmoon's TIL">
<link href=/TIL/posts/index.xml rel=feed type=application/rss+xml title="Sangmoon's TIL">
<meta property="og:title" content="Posts">
<meta property="og:description" content>
<meta property="og:type" content="website">
<meta property="og:url" content="https://sangmoon.github.io/TIL/posts/">
<meta itemprop=name content="Posts">
<meta itemprop=description content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Posts">
<meta name=twitter:description content>
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class="pb3-m pb6-l bg-black">
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/TIL/ class="f3 fw2 hover-white no-underline white-90 dib">
Sangmoon's TIL
</a>
<div class="flex-l items-center">
</div>
</div>
</nav>
<div class="tc-l pv3 ph3 ph4-ns">
<h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
Posts
</h1>
</div>
</div>
</header>
<main class=pb7 role=main>
<article class="pa3 pa4-ns nested-copy-line-height nested-img">
<section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section>
<section class="flex-ns flex-wrap justify-around mt5">
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/os/write-through-vs-write-back/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
2018/01/18
OS에서 Cache 정책
읽기 정책은 둘다 같다. 가장 가까운 캐시에 있으면 hit, 없으면 miss로 아래 단계 cache 또는 memory에 접근하여 hit 할 때 까지 반복한다.
쓰기의 경우 다음 2가지 정책이 존재한다.
write-through cache에 write 하고, 다음 cache에 또 write하고 .. 메모리까지 한번에 write한다. 장점은 로직이 매우 단순하다. 반면 write 작업의 overhead가 커진다. 같은 메모리를 지속적으로 변경하는 작업을 수행한다면,
모든 level의 cache,memory를 write해야하기 때문에 불필요한 자원소모가 생긴다.
write-back 우선 cache에 write를 하고, dirty bit를 assgin한다.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/python/asyncio/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/python/concurrent-future/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/spring/aop/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
AOP 개발의 핵심적인 비즈니스 로직을 개발하는 데에만 집중하고, 나머지 부가적인 기능은 설정을 통해서 조정하라
관련 용어 Aspect: 공통 관심사에 대한 추상적 명칭. 로깅이나 보안, 트랜잭션 같은 기능 자체 Advice: 실제로 Aspect를 구현한 객체 Join points: Advice를 적용할 수 있는 대상. Spring에서는 각 객체의 method Pointcuts: 여러 메소드 중 실제 Adivce가 적용될 대상 메소드 target: pointcuts을 갖는 객체 Proxy: Advice가 적용될 때 만들어지는 객체 Introduction: target엔느 없는 새로운 메소드나 인스턴스 변수를 추가하는 기능 Weaving: Advicd와 target이 결합하여 프록시 객체를 만드는 과정 Advice의 종류 Before Advice: target의 메소드 호출 전에 사용 After returning: target의 메소두 호출 이후에 적용 After throwing: target의 예외 발생 후 적용 After: target의 메소드 호출 후 예외발생에 관계없이 적용 Around: target의 메소드 호출 이전 이후 모두 적용
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/spring/file-upload/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
spring에서 파일 업로드는 2가지 방식을 택할 수 있다
HTML FORM 사용하기 다음과 같은 형식으로 파일 업로드를 실행 할 수 있다. &lt;form action="uploadfile" method="post" enctype="multipart/form-data"> &lt;input type="file" name="file">&lt;input type="submit"> &lt;/form> ajax 사용하기 drag-drop을 구현하려면 ajax를 이용한다. 우선 기본적으로 브라우저에 image를 드래그 하면 창으로 보여주기 때문에 이를 preventDefault 함수로 막는다 &lt;script> $(".fileDrop").on("dragenter dragdover", function(e){ e.preventDefault() }) $(".fileDrop").on("drop", function(e){ e.preventDefault() }) &lt;/script>
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/spring/korean-encoding/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
다음과 같은 내용을 web.xml에 추가한다.
&lt;filter> &lt;filter-name>encoding&lt;/filter-name> &lt;filter-class>org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class> &lt;init-param> &lt;param-name>encoding&lt;/param-name> &lt;param-value>UTF-8&lt;/param-value> &lt;/init-param> &lt;/filter> &lt;filter-mapping> &lt;filter-name>encoding&lt;/filter-name> &lt;url-pattern>/*&lt;/url-pattern> &lt;/filter-mapping>
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/spring/requestbody-responsebody/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
@RequestBody anotation 은 controller로 들어온 요청에서 request body의 내용물을 converting 할때 사용한다. 우선 request의 Content-type을 처리할 수 있는 HttpMessageConverter 구현체를 찾는다. 그리고 converting 처리를 통해 request body를 java object로 바꿔서 사용한다.
POST / HTTP/1.1 Host: localhost:8000 Connection: keep-alive Content-Type: application/json { "name": "sangmoon", "age": "26" } Class Person{ String name; Integer age; } @RequestMapping(value="/", method=RequestMethod.POST) public String test(@requestBody Person person){ .... } @ResponseBody는 jsp를 return 해주지 않고 바로 http response를 return 해주기 위한 annotation 이다.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/spring/root-config/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/spring/spring-mvc-config/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
2018/01/19
스프링은 기본적으로 xml 기반의 설정파일은 관리한다.라이브러리 dependency 및 예약어 들을 관리하는 pom.xml. 가 있고root-context.xml 은 모든 SERVICE나 DAO layer bean을 담고 있다. compunent-scan을 통해 해당 경로의 Bean들을 찾는다.web-context.xml 은 servlet 정보들을 담고 있는데, 해당 servlet이 담당할 resolver나 handler 정보를 가지고 있다.web.xml에는 위에 web-context.xml에 등록한 servlet들 정보와, root-config.xml에 등록한 정보를 등록해서 dispatcherServlet 을 생성한다.
하지만 xml파일은 가독성이 떨어지고 디버깅이 어려운 단점이 있다. 그래서 Spring3.1 이후로 java-based 설정이 추가되었다.
&lt;!-- web-servlet.xml --> &lt;?
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/spring/spring-security-custom-validator-pattern/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
2018/10/17
Spring security에서의 custom validator pattern
// User.java @Entity(name="user") @PasswordMatches public class User { //중략.. @ValidEmail @NotNull @NotEmpty private String email; } PasswordMatches의 경우 confirm field와 password field를 비교하기에 User 만들 때 사용.. ValidEmail의 경우 Email 형식인지 확인 @Target({ElementType.TYPE, ElementType.ANNOTATION_TYPE}) @Retention(RetentionPolicy.RUNTIME) @Constraint(validatedBy = PasswordMatchesValidator.class) @Documented public @interface PasswordMatches { String message() default "Passwords don't match"; Class&lt;?>[] groups() default {}; Class&lt;? extends Payload>[] payload() default {}; } //PasswordMatchesValidator public class PasswordMatchesValidator implements ConstraintValidator&lt;PasswordMatches, Object>{ @Override public void initialize(PasswordMatches constrainAnnotation) {} @Override public boolean isValid(Object obj, ConstraintValidatorContext context) { User user = (User) obj; return user.
</div>
</div>
</div>
</div>
</section>
<ul class="pagination pagination-default">
<li class=page-item>
<a href=/TIL/posts/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/8/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/6/ aria-label="Page 6" class=page-link role=button>6</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/7/ aria-label="Page 7" class=page-link role=button>7</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/8/ aria-label="Page 8" class=page-link role=button>8</a>
</li>
<li class="page-item active">
<a href=# aria-current=page aria-label="Page 9" class=page-link role=button>9</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/10/ aria-label="Page 10" class=page-link role=button>10</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/10/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/10/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a>
</li>
</ul></article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://sangmoon.github.io/TIL>
&copy; Sangmoon's TIL 2021
</a>
<div>
</div>
</div>
</footer>
</body>
</html>