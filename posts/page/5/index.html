<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Sangmoon's TIL</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content>
<meta name=generator content="Hugo 0.88.1">
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel=stylesheet href=/TIL/ananke/css/main.min.css>
<link href=/TIL/posts/index.xml rel=alternate type=application/rss+xml title="Sangmoon's TIL">
<link href=/TIL/posts/index.xml rel=feed type=application/rss+xml title="Sangmoon's TIL">
<meta property="og:title" content="Posts">
<meta property="og:description" content>
<meta property="og:type" content="website">
<meta property="og:url" content="https://sangmoon.github.io/TIL/posts/">
<meta itemprop=name content="Posts">
<meta itemprop=description content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Posts">
<meta name=twitter:description content>
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class="pb3-m pb6-l bg-black">
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/TIL/ class="f3 fw2 hover-white no-underline white-90 dib">
Sangmoon's TIL
</a>
<div class="flex-l items-center">
</div>
</div>
</nav>
<div class="tc-l pv3 ph3 ph4-ns">
<h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
Posts
</h1>
</div>
</div>
</header>
<main class=pb7 role=main>
<article class="pa3 pa4-ns nested-copy-line-height nested-img">
<section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section>
<section class="flex-ns flex-wrap justify-around mt5">
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/creatinhanddestoryinhobjects/item5/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Item 5 Prefer dependency injection to hardwiring resources Static utility 클래스와 싱글톤은 리소스에 따라 달라져야하는 클래스에는 적합하지 않다. static utility 와 싱글톤은 테스트와도 어울리지 않는다. 바람직한 방식은 생성자에 인자로써 건내주는 것이다. 이는 Dependency Injection의 한 형태이다.
// static utility public class SpellChecker { private static final Lexicon dictionary = ...; private SpellChecker(){} } // singleton public class SpellChecker { private final Lexicon dictionary = ...; private SpellChecker(){} public static INSTANCE = new SpellChecker(.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/creatinhanddestoryinhobjects/item6/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Item 6 Avoid creating unnecessary objects 기능적으로 동일한 객체를 매번 생성하는 것 보다 객체 하나를 재사용하는게 적절한 상황이 있다. 재사용은 더 빠르고 읽기 쉽다. immutable(Item 17) 해야만 재사용 할 수 있다.
String s = new String("bikini"); //제발 이렇게 사용하지 말 것! 위 처럼 하게 되면 매번 새로운 String 객체를 생성하게 된다.
String s = "bikini"; 이 버전은 같은 string literal은 매번 같은 객체를 사용함을 JVM이 보장한다.
특히 다른 객체보다 만들 때 자원을 더 소모하는 녀석들을 expensive object 라고 한다.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/creatinhanddestoryinhobjects/item7/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Eliminate obsolete object references pubic class Stack { private Object[] elements; private int size=0; private static final int DEFAULT_INITIAL_CAPACITY = 16; public Stack() { elements = new Object[DEFAULT_INITIAL_CAPACITY]; } public void push(Object e) { ensureCapacity(); elements[size++] = e; } public Object pop() { if(size == 0) { thorw new EmptyStackException(); } return elements[--size]; } private void ensureCapacity() { if(elements.length == size) { elements = Arrays.copyOf(elements, 2* size + 1); } } } 문제가 없어보이지만, pop 하고 난 후 내보낸 객체에 대한 reference를 stack이 갖고 있는게 문제다.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/creatinhanddestoryinhobjects/item8/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Item 8: Avoid finalizers and cleaners Finalizer 와 Cleaner 쓰지 말자
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/creatinhanddestoryinhobjects/item9/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Item 9: Prefer try-with-resources to try-finally InputStream이나 sql.Connection 등은 close() 를 꼭 불러주어야 한다. 전통적으로는 try, catch 문이 이를 지원하였다.
static String firstLineOfFile(String path) throws IOException { BufferedReader br = new BufferedReader(new FileReader(path)); try { return br.readLine(); } finally { br.close(); } } 하지만 자원이 여러개가 되면 굉장히 이상해진다.
static void copy(String src, String dst) throws IOException { InputStream in = new FileStream(src); try { OutputStream out = new FileOutputStream(dst); try { byte[] buf = new byte[BUFFER_SIZE]; int n; while((n = in.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/generalprogramming/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
일반적인 프로그래밍 원칙들 규칙 53 리플렉션 대신 인터페이스를 이용하라 java.lang.reflect 를 활용하면 클래스 정보를 런타임에 가져 올 수 있다.
Class 객체를 통해 생성자(Constructor), 메서드(Method), 필드(Field) 객체를 가져올 수 있다 멤버 이름, 필드 자료형, 메서드 시그니처 들을 알 수 있다. 객체를 생성할 수도 있고, 메서드를 호출할 수도 있으며 필드에 접근할 수도 있다. 단점도 많다.
컴파일 시점에서 자료형 검사함으로써 얻는 이점을 모두 포기해야 한다 (존재하지 않는, 접근 할 수 없는 method 호출하면 런타임 오류 발생) 리플렉션 코드는 보기 싫고 장황하다.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/generic/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Generics 2판의 경우 27, 28 ,29 로 되어 있음 Item 30: Favor generic methods 가능하면 제네릭 메서드로 만들 것 클래스가 generic 일 수 있는 것 처럼 method 도 generic 할 수 있음 예를 들어 collections 에 있는 알고리즘 관련 method(sort, binarysearch) 는 generic 하다.
// use raw types - 문제 있음 public static Set union(Set s1, Set s2) { // Warning! HashSet(Collection&lt;? extends E>) Set result = new HashSet(s1); // Warning!
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/lambdasandstreams/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Chapter 7 Lambdas and Streams 자바8에 함수형 인터페이스, 람다 메서드 참조 등이 추가됨. Stream API 또한 추가되어서 이러한 언어변화에 맞는 데이터 요소 처리를 돕는다.
규칙 42 익명 클래스 보다 람다를 쓰자 오래전부터 1개의 추상 메소드를 갖는 인터페이스는 function type 으로 쓰여옴. 이 인터페이스를 구현한 function objects 는 함수를 나타냄. JDK1.1 부터 함수 객체를 만드는 가장 대표적인 수단은 익명 클래스였음 // 글자 길이로 정렬하는 함수 객체 Collections.sort(words, new Comparator&lt;String>() { public int compare(String s1, String s2) { return Integer.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/methodscommontoallobjects/item10/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Item 10: Obey the general contract when overriding equals equals를 구현하는 건 쉽지 않다. 가장 쉬운 방법은 override 하지 않는 것이다. 다음 조건 중 하나라도 만족하면 구현하지 않는 것이 좋다.
Each instance of the class is inherently unique. Thread와 같은 객체는 값보다 엔티티 자체를 표현한다. Object에서 제공하는 equals로 충분하다 There is no need for he class to provide a logical equality test. Client가 해당 기능을 필요하지 않다고 생각한다면 굳이 구현할 필요가 없다.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/methodscommontoallobjects/item11/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Item 11: Always override hashCode when you override equals equals를 구현한 클래스는 항상 hashcode 를 구현해야 한다. 그렇지 않으면 HashMap 이나 HashSet 같은 collection을 제대로 사용할 수 없다. 다음과 같은 규약이 있다.
한 객체에 반복적으로 hashcode 가 호출될 때, 항상 같은 값을 반환해야 한다. equals로 true로 판단되는 객체는 같은 hashcode를 반환해야 한다. equals로 false가 나올 때 다른 hashcode가 나올 필요는 없다. 하지만 다른 값 나오게 하는게 hashtable 성능을 향상 시킨다.
</div>
</div>
</div>
</div>
</section>
<ul class="pagination pagination-default">
<li class=page-item>
<a href=/TIL/posts/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/4/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/3/ aria-label="Page 3" class=page-link role=button>3</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/4/ aria-label="Page 4" class=page-link role=button>4</a>
</li>
<li class="page-item active">
<a href=# aria-current=page aria-label="Page 5" class=page-link role=button>5</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/6/ aria-label="Page 6" class=page-link role=button>6</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/7/ aria-label="Page 7" class=page-link role=button>7</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/6/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/10/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a>
</li>
</ul></article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://sangmoon.github.io/TIL>
&copy; Sangmoon's TIL 2021
</a>
<div>
</div>
</div>
</footer>
</body>
</html>