<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Sangmoon's TIL</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content>
<meta name=generator content="Hugo 0.88.1">
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel=stylesheet href=/TIL/ananke/css/main.min.css>
<link href=/TIL/posts/index.xml rel=alternate type=application/rss+xml title="Sangmoon's TIL">
<link href=/TIL/posts/index.xml rel=feed type=application/rss+xml title="Sangmoon's TIL">
<meta property="og:title" content="Posts">
<meta property="og:description" content>
<meta property="og:type" content="website">
<meta property="og:url" content="https://sangmoon.github.io/TIL/posts/">
<meta itemprop=name content="Posts">
<meta itemprop=description content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Posts">
<meta name=twitter:description content>
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class="pb3-m pb6-l bg-black">
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/TIL/ class="f3 fw2 hover-white no-underline white-90 dib">
Sangmoon's TIL
</a>
<div class="flex-l items-center">
</div>
</div>
</nav>
<div class="tc-l pv3 ph3 ph4-ns">
<h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
Posts
</h1>
</div>
</div>
</header>
<main class=pb7 role=main>
<article class="pa3 pa4-ns nested-copy-line-height nested-img">
<section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section>
<section class="flex-ns flex-wrap justify-around mt5">
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/methodscommontoallobjects/item12/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Always override toString Object 가 default toString 메소드를 제공하지만 사람이 읽기에 충분치 한다. [해당 클래스이름]@[Hexa hashcode] 형태를 이루고 있다. 따라서 모든 하위 클래스에서 toString을 override 하는게 좋다. 그리고 특정 포멧을 결정하든 말든 주석으로 의도를 명확히 써놓아야 한다.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/methodscommontoallobjects/item13/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Item 13: Override clone judiciusly Cloneable 인터페이스는 복사를 허용하기 위해 만들어졌다. 하지만 Object의 clone method를 쓸 수 없기 때문에 목적 달성에 실패했다.
public class Employee { private String name; public Employee(String name) { this.name = name; } public String getName() { return name; } public static void main(String[] args) { Employee emp = new Employee("Abhi"); try { Employee emp2 = (Employee) emp.clone(); System.out.println(emp2.getName()); } catch (CloneNotSupportedException e) { e.printStackTrace(); } } } // return CloneNotSupportedException.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/methodscommontoallobjects/item14/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Item 14: Consider implementing Comparable Comparable은 Object에 정의된 인터페이스가 아니고, 단독 인터페이스이다. equals와 비슷한데 순서를 정하게 해준다. Comparable을 구현한 객체 배열은 다음과 같이 정렬할 수 있다.
Arrays.sort(a); 기본적으로 java에서 값을 나타내는 클래스는 Comparable을 구현한다. 만약 알파벳 순서나, 수치 순서, 연대 순 등과 같은 natural ordering이 필요하다면 반드시 Comparable 인터페이스를 구현해야 한다.
public interface Comparable&lt;T> { int compareTo(T t); } compareTo의 일반적인 규약은 equals와 비슷하다.
이 객체가 비교하고자 하는 녀석보다 작으면 음수를 반환, 같으면 0을 반환 크면 양수를 반환한다.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivejava/serialization/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Serialization 규칙 76 readObject 메서드는 방어적으로 구현하라 변경 불가능 클래스 조차, 직렬화를 통해 불변식이 깨질 수 있다.
불변식 깨짐 -> readObject 유효성 검사 악의적 객체 참조 -> readObject 에서 방어적 복사 immutable class // 규칙 39 Period 클래스 public final class Period { private final Date start; private final Date end; public Period(Date start, Date end) { this.start = new Date(start.getTime()); this.end = new Date(end.getTime()); // 방어적 규칙 if (this.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivepython/pythonicthinking/item1/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Item 1: Know Which Version of Python You&rsquo;re Using python 은 보통 python2.7 의 alias 이다. 가끔은 더 낮은 버전을 쓰는 곳도 있다. 이를 확실히 하기 위해선 &ndash;version flag를 사용한다.
$ python --version Python 2.7.10 python3 는 보통 Python3를 사용하기위해 쓰인다.
$ python3 --version Python 3.8.0 runtime 에서도 sys module을 통해 호출 가능하다.
import sys print(sys.version_info) print(sys.version) # sys.version_info(major=3, minor=6, micro=9, releaselevel='final', serial=0) # 3.6.9 (default, Jan 15 2020, 10:45:58) [GCC 5.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/effectivepython/pythonicthinking/item2/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Item 2: Follow the PEP 8 Style Guide Python Enhancement Proposal #8, 다른 말로 PEP 8 은 파이썬 코드 스타일 가이드이다. 일관된 코딩 스타일을 갖는 것은 가독성을 높인다. 프로젝트에서 다른 팀원과 스타일을 공유하는 것이 협업의 기본이다. 물론 혼자 일하더라도 이 가이드를 따르는 게 추후 유지보수 비용을 줄여준다.
WhiteSpace
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/java/access-modifier/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Access modifier java 에는 4개의 access modifier 가 있다.
public () protected default(package private) private 위의 순서대로 public에 가까울 수록 제한이 적고, private에 갈수록 제한이 커진다.
| Class | Package | Subclass | Subclass | World | | |(same pkg)|(diff pkg)| ————————————+———————+—————————+——————————+——————————+———————— public | + | + | + | + | + ————————————+———————+—————————+——————————+——————————+———————— protected | + | + | + | + | ————————————+———————+—————————+——————————+——————————+———————— default | + | + | + | | ————————————+———————+—————————+——————————+——————————+———————— private | + | | | | + : accessible blank : not accessible https://stackoverflow.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/java/annotation/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Annotation @ 골뱅이를 통해서 추가 정보를 전달하는 방식을 annotation 이라고 한다. class에 대한 meta data를 저장하는 방식이다. 과거에는 XML을 통해 meta data를 많이 저장하였으나, 더 java 스러운 방식으로 현재 annotation을 표준 명세에 정의하였다. java.lang의 reflection을 통해 runtime에 annotation 에 접근할 수 있다.
@Target() @Retention() public @interface MyAnnotation { int value(); int otherValue(); } Target 과 Retention은 annotation 을 위한 built-in annotation 이다. Target은 Type, Field, Method, Parameter, Constructor, Local variable, AnnotationType, Package, Type parameter, Type use로 할 수 있다.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/java/atomic-volatile-synchronized/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
atomic volatile synchronized Atomic java 는 java.concurrent.atomic Class 가 있다. Lock이나 synchronized keyword가 없어도 병렬 수행의 안전성이 하드웨어에 의해 보장된다. 내부적으로 CAS(compare-and-swap) 을 활용한다. 한 method 인 incrementAndGet을 보면 다음과 같다.(JDK 7 기준)
public final long incrementAndGet(){ for(;;){ long current = get(); long next = current + 1; if (compareAndSet(current, next)) reutrn next; } } get() 으로 현재 val을 가져오고, 2줄 아래 if 문에서 다시 memory의 값과 비교하여서 변동이 없으면 next value를 set하고, 변동이 있다면 다시 for문을 도는 형태이다.
</div>
</div>
</div>
</div>
<div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
<div class="bg-white mb3 pa4 gray overflow-hidden">
<span class="f6 db">Posts</span>
<h1 class="f3 near-black">
<a href=/TIL/posts/java/class-loader/ class="link black dim">
</a>
</h1>
<div class="nested-links f5 lh-copy nested-copy-line-height">
Class loader 다음과 같은 test code를 돌려보자
public void printClassLoaders() throws ClassNotFoundException { System.out.println("Classloader of this class:" + PrintClassLoader.class.getClassLoader()); System.out.println("Classloader of Logging:" + Logging.class.getClassLoader()); System.out.println("Classloader of ArrayList:" + ArrayList.class.getClassLoader()); // result // Class loader of this class:sun.misc.Launcher$AppClassLoader@18b4aac2 // Class loader of Logging:sun.misc.Launcher$ExtClassLoader@3caeaf62 // Class loader of ArrayList:null } Bootstrap class loader (c로 구현) jvm 구동 시킬 때 작동함 getClassLoader() 시에 null 로 나옴 Extension class loader Application class loader (system class loader) java 에서 class 들은 java.
</div>
</div>
</div>
</div>
</section>
<ul class="pagination pagination-default">
<li class=page-item>
<a href=/TIL/posts/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/5/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/4/ aria-label="Page 4" class=page-link role=button>4</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/5/ aria-label="Page 5" class=page-link role=button>5</a>
</li>
<li class="page-item active">
<a href=# aria-current=page aria-label="Page 6" class=page-link role=button>6</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/7/ aria-label="Page 7" class=page-link role=button>7</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/8/ aria-label="Page 8" class=page-link role=button>8</a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/7/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a>
</li>
<li class=page-item>
<a href=/TIL/posts/page/10/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a>
</li>
</ul></article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://sangmoon.github.io/TIL>
&copy; Sangmoon's TIL 2021
</a>
<div>
</div>
</div>
</footer>
</body>
</html>